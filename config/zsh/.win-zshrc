# zshrc for WSL

##############################################################################
# Starship
##############################################################################
eval "$(starship init zsh)"

# autosuggestions
source ~/.zsh/zsh-autosuggestions/zsh-autosuggestions.zsh


##############################################################################
# ALIAS
##############################################################################
alias vim="nvim"
alias ls="exa --group-directories-first"
alias ll='exa -alhF --group-directories-first'
alias la='exa -a  --group-directories-first'

# Mnemonic: `gr` == `git root`
alias gr='cd $(git rev-parse --show-toplevel)'



##############################################################################
# PROXY 
##############################################################################

## 获取主机 IP
## 主机 IP 保存在 /etc/resolv.conf 中
export hostip=$(cat /etc/resolv.conf |grep -oP '(?<=nameserver\ ).*')

if [ -d "/mnt/c/Users/" ] 
then
    # on wsl
    export all_proxy="socks5://${hostip}:7890"
    export https_proxy="http://${hostip}:7890"
    export http_proxy="http://${hostip}:7890"
else
    export all_proxy="socks5://127.0.0.1:7890"
    export https_proxy="http://127.0.0.1:7890"
    export http_proxy="http://127.0.0.1:7890"
fi


##############################################################################
# WIN CONFIGURATION
##############################################################################
# Directorys
alias win_home="cd /mnt/c/Users/yayiji"
alias win_box="cd /mnt/d/Dropbox"



